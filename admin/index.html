<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>VSCP admin interface</title>

    <!-- Don't cache the page -->
    <meta http-equiv="Pragma" content="no-cache" />
    <meta http-equiv="Expires" content="-1" />

    <!-- JQuery -->
    <script type="text/javascript" src="../js/jquery/2.2.1/jquery-2.2.1.min.js"></script>

    
    <!-- Bootstrap -->
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="../js/bootstrap/3.3.6/css/bootstrap.min.css">
    <script type="text/javascript" src="../js/bootstrap/3.3.6/js/bootstrap.min.js"></script>
    

    <!-- Favorite icon -->
    <link rel="icon" href="favicon.ico">

    <!-- VSCP settings -->
    <script type="text/javascript" src="../js/settings.js"></script>
    <!-- VSCP hash calculation -->
    <script type="text/javascript" src="../js/md5.js"></script>
    <!-- VSCP websocket bases library -->
    <script type="text/javascript" src="../js/vscp.js"></script>

    <!-- Menu styles -->
    <link rel="stylesheet" href="../js/menu0.css">
    
    <!-- Boostrap navigation bar helper functions -->
    <script type="text/javascript" src="../js/navBar.js"></script>
    <!-- Navigation bar menu structure -->
    <script type="text/javascript" src="../js/menu0.js"></script>


    <script type="text/javascript">

        ( function() {

            // Wait until the whole website is loaded
            $( document ).ready( function() {
                
                // Show navigation bar menu
                navBarMenu.show( "menu", navBarMenu.content );

                if ( typeof( Storage ) !== "undefined" ) {
                    // Code for localStorage/sessionStorage.
                    if ( null == localStorage.getItem("vscpserver") ) {
                        document.getElementById("idSelectedServer").innerHTML = "&nbsp;&nbsp;&nbsp;&nbsp;<b>Server:</b> localhost:8080";
                    }
                    else {
                        document.getElementById("idSelectedServer").innerHTML = "&nbsp;&nbsp;&nbsp;&nbsp;<b>Server:</b> " + localStorage.getItem("server");
                    }
                } 
                else {
                    // Sorry! No Web Storage support.
                    document.getElementById("idSelectedServer").innerHTML = "&nbsp;&nbsp;&nbsp;&nbsp;<b>Server:</b> localhost:8080";
                }
            });

        })();

        // Show modal to select active server to use.
        setServerModal = function() {
            $('#setServer').modal();
        };

        // Get results from slect server modal
        setServerResult = function() {

            document.getElementById("idSelectedServer").innerHTML =  "&nbsp;&nbsp;&nbsp;&nbsp;<b>Server:</b> " + $('#modal-server').val();
            
            if ( $('#modal-brememberme').prop('checked') ) {
                // Save server data
                 localStorage.vscpserver =  $('#modal-server').val();
                 localStorage.vscpserver_user =  $('#modal-username').val();
                 localStorage.vscpserver_password =  $('#modal-password').val();
            }

        };

    </script>

</head>
<body>
   
    <div id="idSelectedServer">
        &nbsp;&nbsp;&nbsp;&nbsp;
        <b>Server:</b> no server selected
    </div>

    <!-- Menu -->
    <nav class="navbar navbar-inverse">
        <div class="container-fluid">
            <div class="navbar-header">
                <a class="navbar-brand" href="index.html"><img src="../images/logo/vscp_new.png" class="img-thumbnail" width="100" alt="vscp logo" /></a>
            </div>
            <div id="menu">
            </div>
        </div>
    </nav>

    <p>Envelope icon: <span class="glyphicon glyphicon-print"></span></p>

    <!-- Modal to set active server -->
    <div id="setServer" class="modal fade" role="dialog">
        
        <div class="modal-dialog">

            <!-- Modal content-->
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                    <h4 class="modal-title">Select VSCP server</h4>
                </div>
                <div class="modal-body">
                    <p>Server should be entered as http(s)://server-address:port</p>
                    <form role="form">
                        <div class="form-group">
                            <label for="server"><span class="glyphicon glyphicon-user"></span> Server</label>
                            <input type="text" class="form-control" id="modal-server" placeholder="Enter server address">
                        </div>
                        <div class="form-group">
                            <label for="username"><span class="glyphicon glyphicon-user"></span> Username</label>
                            <input type="text" class="form-control" id="modal-username" placeholder="Enter username">
                        </div>
                        <div class="form-group">
                            <label for="password"><span class="glyphicon glyphicon-eye-open"></span> Password</label>
                            <input type="text" class="form-control" id="modal-password" placeholder="Enter password">
                        </div>
                        <div class="checkbox">
                            <label><input type="checkbox" id="modal-brememberme" value="true" checked>Remember me</label>
                        </div>

                        <!--
                        <button type="submit" class="btn btn-default btn-success btn-block" data-dismiss><span class="glyphicon glyphicon-off"></span>Connect</button>
                        -->
                        
                    </form>
                </div>
                <div class="modal-footer">  
                    <button type="button" class="btn btn-success btn-lg" data-dismiss="modal" onclick="setServerResult()">Open</button>                  
                    <button type="button" class="btn btn-primary btn-lg" data-dismiss="modal">Close</button>
                </div>
            </div>

        </div>

    </div>


    <div class="container-fluid">
        <h1>VSCP control interface</h1>
        

        
    </div>
    
    <footer>
        <div id="admin-footer">
            Copyright &copy; 2000-2016 <a href="http://www.grodansparadis.com">Grodans Paradis AB (Paradise of the Frog)</a>
        </div>
    </footer>
    
    
    
</body>
</html>
